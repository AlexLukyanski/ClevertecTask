# ClevertecTask
**Используемый стек технологий:**  
Java 17, Gradle 7.5, PostgreSQL, Spring (Core, Rest, AOP), Hibernate,
Tomcat, JUnit, Apache Log4j2

**О настройках базы данных:**  
Настройки подключения к базе данных находятся в конфигурационном файле приложения:    
\src\main\webapp\WEB-INF\applicationContext.xml.

**Краткое описание:**  
Тестовое задание реализовано в виде веб-проекта c Layered Architecture.  
Сущности реализованы в виде bean-объектов.  
Паттерн Builder для демонстрации согласно заданию использован в классе by.htp.receiptcreator.bean.Shop.  
С помощью Decorator-а реализовано составление текста чека, Factory для выбора конкретной комбинации составляющих текста чека.  

**О конфигурации приложения:**  
Основная конфигурация приложенияв файле \src\main\webapp\WEB-INF\applicationContext.xml.  
Конфигурация AOP через Java-код: by.htp.receiptcreator.aop.ConfigurationAOP  
Также в проекте использована конфигурация через аннотации.  
Настройки Log4j2 в файле \src\main\resources\log4j2.properties.  

**Эндпоинты:**  
1. Выдаёт чек без каких-либо скидок:  
http://localhost:8080/ClevertecTest/1,7,3,2,14  
2. Выдаёт чек со скидкой (если количество одной позиции акционного товара больше 5), без скидки по дисконтной карте:  
http://localhost:8080/ClevertecTest/2,2,2,2,2,2,2,3,4,5,5,5,5,5,5,5  
3. Выдаёт чек со скидкой по дисконтной карте, а также если акционных товаров нет или количество одной акционной позиции менее 5:  
http://localhost:8080/ClevertecTest/1,1,1,1,1,1,1,1,5,5,7/2222  
4. Выдаёт чек со скидкой по дисконтной карте и по акционным товарам:  
http://localhost:8080/ClevertecTest/4,4,4,4,4,4,4,12,12,12,14,9,9,9,9,9,9/4444  

**Инструкция по запуску:**  
1. Импортировать в IDE (c IntelliJ IDEA работает точно) как Gradle-проект.
2. Поменять логин и пароль к БД на необходимые в файле \src\main\webapp\WEB-INF\applicationContext.xml.
3. Создать таблицы в БД (необходимые SQL-запросы в папке \src\main\resources).
3. Запустить в IDE через Tomcat 9.
4. Отправить вышеперечисленные запросы для теста функционала любым удобным способом (браузер, Postman и т.д.)
